<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Onclick</title>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-57602548-3"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());


        gtag('config', 'UA-57602548-3');
    </script>
</head>

<body>

    <a href="#" data-ga-events='{"apiMethod":"send", "type":"event", "category":"Learning", "action":"Video", "label":"Home Hero Watch Video - Cricut Maker Tools", "interaction":true}'>Click / press enter</a>

    <div class="google"></div>



    <script>
        const googleAnalytics = document.querySelectorAll('[data-ga-events]');
        const googleDiv = document.querySelector('.google');

        function sendData(e) {
            const data = this.dataset.gaEvents; // get data form element
            const dataObj = JSON.parse(data); // create object
            const keyPressed = e.which || e.key; // assign button pressed

            // checks if mouse or enter key was clicked/pressed
            if (keyPressed === 1 || keyPressed === "enter" || keyPressed === 13) {
                ga(dataObj.apiMethod, dataObj.type, dataObj.category, dataObj.action, dataObj.label, dataObj.interaction);
            }
        }

        googleAnalytics.forEach(button => button.addEventListener("mouseup", sendData));
        googleAnalytics.forEach(button => button.addEventListener("keyup", sendData));
    </script>

</body>

</html>